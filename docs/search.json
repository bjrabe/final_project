[
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "EDA",
    "section": "",
    "text": "We start by loading the necessary packages to be used throughout this document.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.2\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors"
  },
  {
    "objectID": "EDA.html#quarto",
    "href": "EDA.html#quarto",
    "title": "EDA",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "EDA.html#running-code",
    "href": "EDA.html#running-code",
    "title": "EDA",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "Modeling.html",
    "href": "Modeling.html",
    "title": "Modeling",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "Modeling.html#quarto",
    "href": "Modeling.html#quarto",
    "title": "Modeling",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "Modeling.html#running-code",
    "href": "Modeling.html#running-code",
    "title": "Modeling",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "EDA.html#introduction",
    "href": "EDA.html#introduction",
    "title": "EDA",
    "section": "Introduction",
    "text": "Introduction\nIn this project we are working with a data set about diabetes. Our response variable of interest is no diabetes vs diabetes (which includes pre-diabetes). Also in the data set are 21 other variables which can be used as explanatory/feature variables.\nWe are interested in using a subset of the available variables to create a model which can be used to predict the presence or absence of diabetes. We will not use all 21 variables.\nIn choosing variables, we will select some that seem like they may influence the development of diabetes. This is not mandatory for creating a predictive model; it is just the approach we take here to identify a proper subset of the 21 available variables to use as features.\nThe following provides a list of explanatory variables we will use, a description of each variable, and whether the variable is quantitative or categorical:\n\nBMI: Body Mass Index, which is weight in kg divided by the square of height in meters (quantitative)\nSmoker: Smoked 100 or more cigarettes in lifetime (categorical, levels yes and no)\nPhysActivity: Physical activity in past 30 days, not including job (categorical, levels yes and no)\nFruits: Consume fruit one or more times per day (categorical, levels yes and no)\nVeggies: Consume vegetables one or more times per day (categorical, levels yes and no)\nHvyAlcoholConsump: 14 or more alcoholic drinks per week for a male and 7 or more drinks per week for a female (categorical, levels yes and no)\nDiffWalk: Serious difficulty walking or climbing stairs (categorical, levels yes and no)\nSex: (categorical, levels male and female)\n\nThe purpose of our exploratory data analysis (EDA) is to learn about the distributions of these variables and how they relate to one another. We will do this by way of both graphical and numerical summaries. After we have done this, we will create models to try to predict the presence or absence of diabetes based on observed values of the 8 explanatory variables chosen above. We will fit multiple models and compare them to see which performs best."
  },
  {
    "objectID": "EDA.html#data",
    "href": "EDA.html#data",
    "title": "EDA",
    "section": "Data",
    "text": "Data\nIn this section we first import the data and save it in a new object.\n\ndm_data &lt;- read_csv('diabetes_binary_health_indicators_BRFSS2015.csv')\n\nRows: 253680 Columns: 22\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (22): Diabetes_binary, HighBP, HighChol, CholCheck, BMI, Smoker, Stroke,...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nNext, we note that our categorical variables are saved as data type double. We will change these to factors with the appropriate levels (discussed above).\n\ndm_data &lt;- dm_data |&gt;\n  mutate(Diabetes_binary = factor(Diabetes_binary, levels = c(0, 1), labels = c('no', 'yes')),\n         Smoker = factor(Smoker, levels = c(0, 1), labels = c('no', 'yes')),\n         PhysActivity = factor(PhysActivity, levels = c(0,1), labels = c('no', 'yes')),\n         Fruits = factor(Fruits, levels = c(0,1), labels = c('no', 'yes')),\n         Veggies = factor(Veggies, levels = c(0,1), labels = c('no', 'yes')),\n         HvyAlcoholConsump = factor(HvyAlcoholConsump, levels = c(0,1), labels = c('no', 'yes')),\n         DiffWalk = factor(DiffWalk, levels = c(0,1), labels = c('no', 'yes')),\n         Sex = factor(Sex, levels = c(0,1), labels = c('female', 'male'))\n         )\n\nFinally, we examine the data to see if there are any missing values.\n\nis.na(dm_data) |&gt;\n  colSums()\n\n     Diabetes_binary               HighBP             HighChol \n                   0                    0                    0 \n           CholCheck                  BMI               Smoker \n                   0                    0                    0 \n              Stroke HeartDiseaseorAttack         PhysActivity \n                   0                    0                    0 \n              Fruits              Veggies    HvyAlcoholConsump \n                   0                    0                    0 \n       AnyHealthcare          NoDocbcCost              GenHlth \n                   0                    0                    0 \n            MentHlth             PhysHlth             DiffWalk \n                   0                    0                    0 \n                 Sex                  Age            Education \n                   0                    0                    0 \n              Income \n                   0 \n\n\nWe see from the output that there are no missing values. Therefore, we are ready to proceed with summarizations."
  },
  {
    "objectID": "EDA.html#summarizations",
    "href": "EDA.html#summarizations",
    "title": "EDA",
    "section": "Summarizations",
    "text": "Summarizations\nIn this section we perform EDA by examining numerical and graphical summaries of our explanatory and response variables.\nLet’s get started by simply seeing how many individuals in the data set have diabetes. We will look at this both numerically and graphically.\n\ndm_data |&gt;\n  group_by(Diabetes_binary) |&gt;\n  summarize(count = n())\n\n# A tibble: 2 × 2\n  Diabetes_binary  count\n  &lt;fct&gt;            &lt;int&gt;\n1 no              218334\n2 yes              35346\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar() + labs(x = 'Diabetes', title = 'Counts of Diabetes vs. No Diabetes')\n\n\n\n\n\n\n\n\nWe see from the contingency table and bar plot that there are far more people without diabetes than with diabetes.\nNext, let’s examine whether BMI appears similar between those with and without diabetes. From what we know, elevated weight should be a risk factor for diabetes, so we would expect a higher BMI in those with diabetes. Again we will look at both a numerical description (contingency table) and a graphical description.\n\ndm_data |&gt;\n  group_by(Diabetes_binary) |&gt;\n  summarize('mean_BMI' = mean(BMI),\n            'median_BMI' = median(BMI),\n            'sd_BMI' = sd(BMI),\n            'IQR_BMI' = IQR(BMI)\n            )\n\n# A tibble: 2 × 5\n  Diabetes_binary mean_BMI median_BMI sd_BMI IQR_BMI\n  &lt;fct&gt;              &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n1 no                  27.8         27   6.29       7\n2 yes                 31.9         31   7.36       8\n\ndm_data |&gt;\n  ggplot(aes(x = Diabetes_binary, y = BMI)) + geom_boxplot() + labs(x = 'Diabetes', y = 'BMI', title = 'BMI Summary by Diabetes Status')\n\n\n\n\n\n\n\n\nFrom the contingency table, it seems that mean and median BMI are higher in those with diabetes, as expected. The box plot is a bit unusual looking. There are a lot of outliers in each group. Let’s look at a density plot to get a better sense of the distribution of BMI between the two groups.\n\ndm_data |&gt;\n  ggplot(aes(BMI)) + geom_density(aes(fill = Diabetes_binary), alpha = 0.5) + labs(x = 'BMI', title = 'BMI Distribution by Diabetes Status')\n\n\n\n\n\n\n\n\nWe see from the density plot that BMI has a long right tail. This explains why there are so many outliers seen on the box plots. Generally speaking though, the values for BMI seem to be shifted higher for those with diabetes relative to those without diabetes.\nWhat about smoking? It isn’t common wisdom that smoking is a major risk factor for diabetes. Let’s see if diabetes rates are higher in smokers by looking at numerical and graphical summaries.\n\ndm_data |&gt;\n  group_by(Diabetes_binary, Smoker) |&gt;\n  summarize(count = n()) \n\n`summarise()` has grouped output by 'Diabetes_binary'. You can override using\nthe `.groups` argument.\n\n\n# A tibble: 4 × 3\n# Groups:   Diabetes_binary [2]\n  Diabetes_binary Smoker  count\n  &lt;fct&gt;           &lt;fct&gt;   &lt;int&gt;\n1 no              no     124228\n2 no              yes     94106\n3 yes             no      17029\n4 yes             yes     18317\n\n\nThis contingency table is a bit tough to interpret, since the number of people with diabetes is very dissimilar to the number of people without diabetes. Let’s make it easier on ourselves by creating a bar plot instead.\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar(aes(fill = Smoker), position = 'dodge') + labs(x = 'Diabetes Status', title = 'Diabetes Status Counts by Smoking Status')\n\n\n\n\n\n\n\n\nWe see from the plot that if you don’t have diabetes, you are more likely to be a non-smoker than a smoker. However, if you do have diabetes, you are more likely to be a smoker. This could suggest that smoking is a risk factor for diabetes (or diabetes is a risk factor for smoking!). An alternative explanation is that people who smoke are generally less healthy, which may predispose them to developing diabetes independent of their smoking status.\nCan we attenuate the relationship between smoking and diabetes by incorporating another risk factor which represents “unhealthiness?” Let’s try by creating another bar plot of diabetes and smoking status, this time faceted by physical activity.\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar(aes(fill = Smoker), position = 'dodge') + facet_wrap(~PhysActivity) + labs(x = 'Diabetes Status', title = 'Diabetes Status Counts by Smoking Status and Physical Activity')\n\n\n\n\n\n\n\n\nWe see from the plot that for those who had not done physical activity in the past 30 days, smoking no longer seems to be related to the presence of diabetes! As suspected, this may provide some evidence that general “unhealthiness” is a big player in the association between smoking and diabetes. We do however see in those who had done physical activity in the past 30 days that the relationship between smoking and diabetes persists.\nWhat about fruit? Fruit has natural sugars, so on one hand we may suspect it is a risk factor for diabetes. On the other hand, fruit is considered by many to be a healthy food, which may lead us to suspect that it is protective against diabetes. Let’s see what the data shows.\n\ndm_data |&gt;\n  group_by(Diabetes_binary, Fruits) |&gt;\n  summarize(count = n())\n\n`summarise()` has grouped output by 'Diabetes_binary'. You can override using\nthe `.groups` argument.\n\n\n# A tibble: 4 × 3\n# Groups:   Diabetes_binary [2]\n  Diabetes_binary Fruits  count\n  &lt;fct&gt;           &lt;fct&gt;   &lt;int&gt;\n1 no              no      78129\n2 no              yes    140205\n3 yes             no      14653\n4 yes             yes     20693\n\n\nAgain, a contingency table is not the easiest to interpret in this case since the counts of diabetes vs no diabetes are lopsided. As before, we will take a look at a bar plot, which is more interpretable.\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar(aes(fill = Fruits), position = 'dodge') + labs(x = 'Diabetes Status', title = 'Diabetes Status by Fruit Consumption')\n\n\n\n\n\n\n\n\nWe see that if you don’t have diabetes, you are much more likely to be a fruit eater. This could suggest fruit is protective against diabetes. Alternatively, it could suggest that people who are generally healthier eat more fruit and happen to also be at lower risk for diabetes because of a healthy lifestyle. A third possible explanation is that people with diabetes are more likely to AVOID fruit because it makes their blood sugar spike and hard to control.\nLet’s create the same plot but facet by vegetable consumption.\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar(aes(fill = Fruits), position = 'dodge') + facet_wrap(~Veggies) + labs(x = 'Diabetes Status', title = 'Diabetes Status by Fruit and Vegetable Consumption') \n\n\n\n\n\n\n\n\nWe see that for those who eat vegetables, they are more likely to eat fruit than not, regardless of diabetes status. And in those who don’t eat vegetables, they are more likely to NOT eat fruit, regardless of diabetes status. This suggests fruit and vegetable consumption are associated, supporting the idea that people who eat fruits are probably generally healthier, as they eat vegetables too, regardless of diabetes status.\nThe last thing we will look at is diabetes rates by sex.\n\ndm_data |&gt;\n  group_by(Sex, Diabetes_binary) |&gt;\n  summarize(count = n())\n\n`summarise()` has grouped output by 'Sex'. You can override using the `.groups`\nargument.\n\n\n# A tibble: 4 × 3\n# Groups:   Sex [2]\n  Sex    Diabetes_binary  count\n  &lt;fct&gt;  &lt;fct&gt;            &lt;int&gt;\n1 female no              123563\n2 female yes              18411\n3 male   no               94771\n4 male   yes              16935\n\ndm_data |&gt;\n  ggplot(aes(Diabetes_binary)) + geom_bar(aes(fill = Sex), position = 'dodge') + labs(x = 'Diabetes Status', title = 'Diabetes Status by Sex')\n\n\n\n\n\n\n\n\nThere are clearly more females than males in this data set, since for both diabetes and non-diabetes groups there are more females than males. The difference between males and females is more pronounced in the non-diabetes group, suggesting perhaps that males are more likely to have diabetes than females. To see this a little bit better, we can use a stacked bar chart with normalized height instead.\n\ndm_data |&gt;\n  ggplot(aes(Sex)) + geom_bar(aes(fill = Diabetes_binary), position = 'fill') + labs(title = 'Diabetes Rates by Sex')\n\n\n\n\n\n\n\n\nThis chart makes it clear that males in this data set are slightly more likely to have diabetes than females in this data set. Because the difference is small and this is only one random sample of the population, this result does not necessarily imply that the true population rates of diabetes are different in males vs females.\nThis concludes our EDA. To head over to the webpage for viewing our modeling on the data set, click the following link: ***"
  }
]